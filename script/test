#!/usr/bin/env bash
#/ Usage: script/test          # run all non-vendored tests
#/        script/test <subdir> # run just a package's tests

script/fmt
if [ $# -gt 0 ]; then
    GO15VENDOREXPERIMENT=1 go test "./$1"
else
    # NOTE: olekukonko/ts has a failure in TestSize as described in
    # https://github.com/olekukonko/ts/issues/3.
    GO15VENDOREXPERIMENT=1 go test ./...
fi
